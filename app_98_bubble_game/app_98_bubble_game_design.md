# app_98_bubble_game: 버블 게임 UI 명세

## 화면 개요

이 화면은 사용자가 간단한 미니 게임을 즐길 수 있는 '버블 게임' 인터페이스입니다. 화면에 무작위로 나타나는 버블을 터치하여 점수를 획득하는 방식입니다. 제한 시간이 있으며, 게임이 종료되면 최종 점수를 다이얼로그로 보여주고, 시스템 알림으로 결과를 받을 수 있는 기능을 제공합니다.

## UI 구조

```mermaid
graph TD
    A[BubbleGameStep5] --> B{Box: 전체 레이아웃};
    B --> C[Canvas: 버블 그리기 및 터치 감지];
    B --> D[Column: 점수 및 시간 표시];
    D --> E[Row];
    E --> F[Text: "Score: 0"];
    E --> G[Text: "Time: 30"];
    B --> H{AlertDialog: 게임 종료 시 표시};
    H --> I[Text: "게임 종료!"];
    H --> J[Text: "최종 점수: 0"];
    H --> K[Column: 버튼 그룹];
    K --> L[Button: "결과 알림 받기"];
    K --> M[TextButton: "다시 시작"];
```

## 주요 컴포저블 설명

*   **`BubbleGameStep5`**: 게임의 모든 기능(게임 로직, 사운드, 진동, 알림)이 통합된 메인 컴포저블입니다. 게임의 전체적인 상태를 관리하고 UI를 구성합니다.
*   **`Canvas`**: 게임의 핵심 영역으로, 버블을 동적으로 그리고 사용자의 터치 입력을 감지하는 역할을 합니다. `pointerInput` Modifier를 사용하여 탭 제스처를 처리합니다.
*   **`GameState`**: 게임의 상태(버블 목록, 점수, 남은 시간, 게임 종료 여부)를 관리하는 데이터 홀더 클래스입니다. `mutableStateOf`를 사용하여 상태 변경 시 UI가 자동으로 업데이트되도록 합니다.
*   **`AlertDialog`**: 게임이 종료되었을 때 나타나는 다이얼로그입니다. 최종 점수를 표시하고, 사용자에게 '결과 알림 받기' 또는 '다시 시작' 옵션을 제공합니다.
*   **`showNotification`**: 게임 결과를 시스템 알림으로 표시하는 함수입니다. 알림 채널 생성, RemoteInput을 사용한 답장 기능 등 복합적인 알림 기능을 담당합니다.

## 리소스 파일 안내

이 모듈이 정상적으로 동작하기 위해서는 아래의 리소스 파일들이 필요합니다. 해당 파일들은 `app_98_bubble_game/src/main/res/` 디렉토리 내의 각 폴더에 위치해야 합니다.

*   **사운드 효과**:
    *   `res/raw/pop_sound.mp3`: 버블이 터질 때 재생되는 ��과음 파일입니다.
*   **알림 아이콘**:
    *   `res/drawable/ic_bubble.xml`: 알림에 표시될 작은 아이콘입니다. (벡터 에셋 권장)
    *   `res/drawable/ic_game_large.png`: 알림에 표시될 큰 아이콘 이미지입니다.
    *   `res/drawable/ic_send.xml`: 알림의 '답장' 액션에 사용될 아이콘입니다. (벡터 에셋 권장)
