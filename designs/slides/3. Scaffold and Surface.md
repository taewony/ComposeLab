```markdown
---
marp: true
theme: default
paginate: true
header: 'Compose: Scaffold & Surface'
footer: 'Jetpack Compose Material Components'
---

# Scaffold와 Surface 활용
## Material Design 구조를 위한 핵심 컴포저블

---

## Scaffold란?
- **Material Design 앱 구조의 뼈대** 제공
- **일반적인 UI 패턴**을 위한 사전 정의된 슬롯
  - TopAppBar, BottomAppBar, FloatingActionButton, Drawer, Snackbar 등
- **반응형 레이아웃** 자동 처리 (시스템 바, 내비게이션 바 등)

```kotlin
Scaffold(
    topBar = { TopAppBar(title = { Text("App") }) },
    floatingActionButton = { FloatingActionButton(onClick = {}) },
    content = { innerPadding -> /* 메인 콘텐츠 */ }
)
```

---

## Scaffold의 핵심 슬롯
| 슬롯                  | 설명                          | 필수 여부 |
|-----------------------|-------------------------------|-----------|
| `topBar`              | 상단 앱 바                    | ❌        |
| `bottomBar`           | 하단 바 (네비게이션 등)        | ❌        |
| `floatingActionButton`| 플로팅 액션 버튼              | ❌        |
| `drawerContent`       | 내비게이션 드로어 콘텐츠      | ❌        |
| `snackbarHost`        | Snackbar 표시 영역            | ❌        |
| `content`             | **메인 콘텐츠 (필수)**        | ✅        |

---

## Scaffold Modifier 적용
- **전체 Scaffold 영역**에 적용
- 콘텐츠 영역은 `innerPadding`으로 처리

```kotlin
Scaffold(
    modifier = Modifier
        .fillMaxSize()
        .background(MaterialTheme.colors.background),
    topBar = { /* ... */ },
    content = { innerPadding ->
        Column(
            modifier = Modifier
                .padding(innerPadding)  // 중요!
                .verticalScroll(rememberScrollState())
        ) {
            // 스크롤 가능 콘텐츠
        }
    }
)
```

---

## Surface란?
- **Material Design 표면** 개념 구현
- **Elevation**을 통한 시각적 계층 구조
- **클릭 이벤트** 및 **리플 효과** 기본 제공
- **테마 일관성** (어두운/밝은 모드 자동 대응)

```kotlin
Surface(
    elevation = 4.dp,
    shape = RoundedCornerShape(8.dp),
    onClick = { /* 클릭 처리 */ }
) {
    Text("Card Content")
}
```

---

## Surface의 핵심 속성
| 속성         | 설명                                | 기본값                     |
|--------------|-------------------------------------|----------------------------|
| `elevation`  | 음영 강도 (dp)                      | 0.dp                       |
| `shape`      | 모양 (Shape 객체)                   | RectangleShape            |
| `color`      | 배경색                              | `MaterialTheme.colors.surface` |
| `contentColor`| 콘텐츠 색상                         | `contentColorFor(color)`   |
| `border`     | 테두리 (선택적)                     | 없음                       |

---

## Surface Modifier 적용
- **Surface 자체의 크기/모양** 제어
- 내부 콘텐츠는 별도 Modifier로 제어

```kotlin
Surface(
    modifier = Modifier
        .fillMaxWidth()
        .padding(16.dp),
    elevation = 8.dp,
    shape = MaterialTheme.shapes.medium,
) {
    Column(
        modifier = Modifier.padding(16.dp) // 내부 여백
    ) {
        Text("Card Title", style = MaterialTheme.typography.h6)
        Text("Card content goes here...")
    }
}
```

---

## Scaffold + Surface 조합
### 전형적인 Material 앱 구조

```kotlin
@Composable
fun HomeScreen() {
    Scaffold(
        topBar = { TopAppBar(title = { Text("Home") }) },
        floatingActionButton = {
            FloatingActionButton(onClick = {}) {
                Icon(Icons.Filled.Add, "Add")
            }
        }
    ) { innerPadding ->
        Surface(
            modifier = Modifier
                .padding(innerPadding)
                .fillMaxSize(),
            color = MaterialTheme.colors.background
        ) {
            LazyColumn {
                items(20) { index ->
                    ListItem(index)
                }
            }
        }
    }
}
```

---

## 적용 시나리오 비교
| 컴포넌트   | 사용 목적                                      | 예시                  |
|------------|-----------------------------------------------|-----------------------|
| **Scaffold**| 앱 전체 프레임워크                             | 메인 화면, 상세 화면 |
| **Surface** | 개별 UI 요소의 계층적 컨테이너                 | 카드, 다이얼로그, 패널 |

> ✅ **Scaffold**: 앱의 기본 골격 구성  
> ✅ **Surface**: 콘텐츠를 담는 Material 컨테이너

---

## 고급 활용: 테마 일관성
- **Surface는 MaterialTheme과 자동 연동**
  - 어두운 모드에서 자동 색상 조정
  - 콘텐츠 색상 최적화

```kotlin
Surface(
    color = MaterialTheme.colors.surface, // 테마 기반 표면색
    contentColor = MaterialTheme.colors.onSurface // 콘텐츠 색상
) {
    // 텍스트는 자동으로 onSurface 색상 사용
    Text("Themed Content")
}
```

---

## 성능 최적화 팁
1. **Scaffold**
   - `innerPadding`을 올바르게 적용하여 콘텐츠 가림 방지
   - 재사용 가능한 Slot 컴포넌트 분리

2. **Surface**
   - 불필요한 중첩 Surface 피하기
   - 동일 elevation의 불필요한 Surface 통합

```kotlin
// 나쁜 예: 불필요한 중첩
Surface { 
    Surface { /* ... */ } 
}

// 좋은 예: 단일 Surface
Surface { /* ... */ }
```

---

## Scaffold의 특수 Modifier
### drawerContent와의 조합

```kotlin
Scaffold(
    drawerContent = {
        Surface(
            modifier = Modifier.fillMaxHeight(),
            elevation = 16.dp
        ) {
            Column(Modifier.padding(16.dp)) {
                // 드로어 아이템
            }
        }
    },
    content = { /* ... */ }
)
```

---

## Surface의 고급 기능
### Border 및 복합 모양

```kotlin
Surface(
    modifier = Modifier.size(120.dp),
    shape = CircleShape,
    border = BorderStroke(2.dp, Color.Blue),
    elevation = 8.dp
) {
    Box(Modifier.background(Brush.radialGradient(
        colors = listOf(Color.LightBlue, Color.Blue)
    ))) {
        Icon(Icons.Filled.Person, "Profile")
    }
}
```

---

## 디버깅 팁
1. **Scaffold 레이아웃 인스펙터**  
   - Android Studio Layout Inspector 사용
   - Slot 영역 시각적 확인

2. **Surface 계층 디버깅**  
   ```kotlin
   Surface(modifier = Modifier.debugInspectorInfo("ProfileCard")) {
       // ...
   }
   ```

3. **Elevation 시각화**  
   - 개발자 옵션 → "Show layout bounds" 활성화

---

# 정리: Scaffold vs Surface
| **특징**          | Scaffold                     | Surface                     |
|--------------------|------------------------------|-----------------------------|
| **목적**          | 앱 프레임워크                | UI 요소 컨테이너            |
| **Material 연동** | 전체 구조                    | 개별 요소 스타일링          |
| **Modifier 적용** | 전체 영역 + innerPadding     | 표면 영역 + 내부 콘텐츠     |
| **고유 기능**     | Slot 기반 구조               | Elevation + Ripple          |
| **사용 계층**     | 최상위 레이아웃              | 중첩 가능한 컴포넌트        |

```kotlin
// 구조적 관계
Scaffold {
    Surface { /* ... */ }
    Surface { /* ... */ }
}
```