```markdown
---
marp: true
theme: default
paginate: true
header: 'Compose 레이아웃별 Modifier 적용 특성'
footer: 'Jetpack Compose Layouts'
---

# Column, Row, Box 레이아웃
## Modifier 적용 차이점 분석

---

## 기본 레이아웃 특성 비교
|          | Column                 | Row                   | Box                   |
|----------|------------------------|-----------------------|-----------------------|
| **방향** | 수직 (top→bottom)      | 수평 (start→end)      | 중첩 (z축)            |
| **정렬** | `verticalArrangement`  | `horizontalArrangement`| `contentAlignment`    |
| **크기** | 자식들의 높이 합       | 자식들의 너비 합       | 가장 큰 자식 기준     |

---

## 크기 제어 Modifier 차이
### `fillMaxSize` / `fillMaxWidth` / `fillMaxHeight`

```kotlin
// Column - 수직 방향 채움
Column(Modifier.fillMaxHeight()) { /*...*/ }

// Row - 수평 방향 채움
Row(Modifier.fillMaxWidth()) { /*...*/ }

// Box - 양방향 모두 채움
Box(Modifier.fillMaxSize()) { /*...*/ }
```

> ⚠️ **Column에서 fillMaxWidth()** : 자식들이 가로 영역을 채우도록 강제  
> ⚠️ **Row에서 fillMaxHeight()** : 자식들이 세로 영역을 채우도록 강제

---

## 정렬(Alignment) 적용 차이
### 레이아웃별 정렬 Modifier

```kotlin
// 1. Column 내 자식 정렬
Column(Modifier.fillMaxSize()) {
    Text("Start", Modifier.align(Alignment.Start))
    Text("Center", Modifier.align(Alignment.CenterHorizontally))
    Text("End", Modifier.align(Alignment.End))
}

// 2. Row 내 자식 정렬
Row(Modifier.fillMaxSize()) {
    Text("Top", Modifier.align(Alignment.Top))
    Text("Center", Modifier.align(Alignment.CenterVertically))
    Text("Bottom", Modifier.align(Alignment.Bottom))
}

// 3. Box 내 자식 정렬
Box(Modifier.fillMaxSize()) {
    Text("Center", Modifier.align(Alignment.Center))
}
```

---

## 가중치(Weight) 적용 특성
### Column/Row 전용 기능

```kotlin
Column(Modifier.fillMaxHeight()) {
    // 높이 20% 차지
    Box(Modifier.weight(1f).background(Color.Red) 
    
    // 높이 80% 차지
    Box(Modifier.weight(4f).background(Color.Blue)) 
}

Row(Modifier.fillMaxWidth()) {
    // 너비 30% 차지
    Box(Modifier.weight(3f).background(Color.Green))
    
    // 너비 70% 차지
    Box(Modifier.weight(7f).background(Color.Yellow))
}
```

> 🚫 **Box에서는 weight 사용 불가**  
> ✅ weight은 항상 `fillMaxWidth()`/`fillMaxHeight()`와 결합해 사용

---

## 스크롤 처리 방식 차이
### 방향에 따른 스크롤 Modifier

```kotlin
// Column - 수직 스크롤만 가능
Column(Modifier.verticalScroll(rememberScrollState())) {
    repeat(50) { Text("Item $it") }
}

// Row - 수평 스크롤만 가능
Row(Modifier.horizontalScroll(rememberScrollState())) {
    repeat(50) { Text("Item $it") }
}

// Box - 양방향 스크롤 가능
Box(Modifier.scrollable(
    rememberScrollState(),
    Orientation.Vertical,
    Orientation.Horizontal
)) { /*...*/ }
```

---

## 패딩(Padding) 적용 시 주의점
### 레이아웃 경계 차이

```kotlin
// Column - 수직 패딩이 자식 배치에 영향
Column(Modifier.padding(16.dp)) { // 전체 영역 패딩
    Text("Item1")
    Text("Item2")
}

// Box - 패딩이 컨텐츠 배치 위치 변경
Box(Modifier.padding(30.dp)) { 
    Text("Centered", Modifier.align(Alignment.Center))
}
```

> **공통 특징**:  
> `.padding()`은 레이아웃 경계 안쪽에 적용  
> `.offset()`은 시각적 위치만 이동 (레이아웃 계산 무시)

---

## 고급 Modifier 조합 예제
### 레이아웃별 특성 활용

```kotlin
// Column + Row 조합
Column(Modifier.fillMaxWidth()) {
    Row(Modifier.horizontalScroll(rememberScrollState())) {
        repeat(10) { ChipItem("Tag $it") }
    }
    Box(
        Modifier
            .weight(1f)
            .background(Color.LightGray)
    ) {
        Text("Content", Modifier.align(Alignment.Center))
    }
}

// Box 중첩 (z-index)
Box {
    Image(/* 배경 이미지 */)
    Column(Modifier.align(Alignment.BottomCenter)) {
        Text("Overlay Text", color = Color.White)
    }
}
```

---

## 레이아웃별 Modifier 선택 가이드
| **목적**               | **추천 레이아웃** | **필수 Modifier**          |
|------------------------|------------------|---------------------------|
| 수직 목록              | Column           | `verticalScroll()`        |
| 수평 갤러리            | Row              | `horizontalScroll()`      |
| 중첩/겹치기            | Box              | `align()` + `zIndex()`    |
| 비율 기반 분할         | Column/Row       | `weight()`                |
| 복합 레이아웃          | 모두 조합        | 계층적 Modifier 적용      |

---

## 성능 최적화 팁
1. **Column/Row**:
   ```kotlin
   // 자식 재측정 방지 (고정 크기 자식 있을 때)
   Column(Modifier.sizeIn(minHeight = 100.dp)) { ... }
   ```
   
2. **Box**:
   ```kotlin
   // 불필요한 중첩 제거
   Box { // ✅ Good
       Image()
       Text()
   }
   ```
   
3. **공통**:
   ```kotlin
   // 재사용 가능한 Modifier 객체 생성
   val cardModifier = Modifier
       .padding(8.dp)
       .shadow(4.dp)
   ```

--- 

# Summary
## 레이아웃별 핵심 적용 원칙
- **Column**: `verticalArrangement` + `weight` + `align(Alignment.Horizontal)`
- **Row**: `horizontalArrangement` + `weight` + `align(Alignment.Vertical)`
- **Box**: `contentAlignment` + `align()` + `zIndex()`
```kotlin
// 통합 원칙: 
// "Modifier 체인은 레이아웃의 방향성을 따라 적용된다"
```